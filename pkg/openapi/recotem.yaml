openapi: 3.0.3
info:
  title: Recotem API
  version: 2.0.0
  description: Recotem v2 recommendation system API
security:
  - bearerAuth: []
  - apiKeyAuth: []
paths:
  # =========================================================================
  # Auth
  # =========================================================================
  /api/v1/auth/login/:
    post:
      operationId: auth_login
      description: |-
        Check the credentials and return JWT tokens if the credentials are valid.
        Accept the following POST parameters: username, password
        Return access and refresh tokens.
      tags:
        - auth
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/Login'
          application/x-www-form-urlencoded:
            schema:
              $ref: '#/components/schemas/Login'
          multipart/form-data:
            schema:
              $ref: '#/components/schemas/Login'
        required: true
      security: []
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/JWT'
          description: ''
  /api/v1/auth/token/refresh/:
    post:
      operationId: auth_token_refresh
      description: |-
        Takes a refresh type JSON web token and returns an access type JSON web
        token if the refresh token is valid.
      tags:
        - auth
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/TokenRefresh'
          application/x-www-form-urlencoded:
            schema:
              $ref: '#/components/schemas/TokenRefresh'
          multipart/form-data:
            schema:
              $ref: '#/components/schemas/TokenRefresh'
        required: true
      security: []
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/TokenRefresh'
          description: ''
  /api/v1/auth/token/blacklist/:
    post:
      operationId: auth_token_blacklist
      description: Blacklists a refresh token so it can no longer be used.
      tags:
        - auth
      requestBody:
        content:
          application/json:
            schema:
              type: object
              properties:
                refresh:
                  type: string
              required:
                - refresh
        required: true
      responses:
        '200':
          description: Token blacklisted successfully.
  /api/v1/auth/token/verify/:
    post:
      operationId: auth_token_verify
      description: |-
        Takes a token and indicates if it is valid.  This view provides no
        information about a token's fitness for a particular use.
      tags:
        - auth
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/TokenVerify'
          application/x-www-form-urlencoded:
            schema:
              $ref: '#/components/schemas/TokenVerify'
          multipart/form-data:
            schema:
              $ref: '#/components/schemas/TokenVerify'
        required: true
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/TokenVerify'
          description: ''
  /api/v1/auth/logout/:
    post:
      operationId: auth_logout
      description: |-
        Logs out the current user and invalidates tokens.
        Accepts/Returns nothing.
      tags:
        - auth
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/RestAuthDetail'
          description: ''
  /api/v1/auth/password/change/:
    post:
      operationId: auth_password_change
      description: |-
        Calls Django Auth SetPasswordForm save method.
        Accepts the following POST parameters: new_password1, new_password2
        Returns the success/fail message.
      tags:
        - auth
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/PasswordChange'
          application/x-www-form-urlencoded:
            schema:
              $ref: '#/components/schemas/PasswordChange'
          multipart/form-data:
            schema:
              $ref: '#/components/schemas/PasswordChange'
        required: true
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/RestAuthDetail'
          description: ''
  /api/v1/auth/password/reset/:
    post:
      operationId: auth_password_reset
      description: |-
        Calls Django Auth PasswordResetForm save method.
        Accepts the following POST parameters: email
        Returns the success/fail message.
      tags:
        - auth
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/PasswordReset'
          application/x-www-form-urlencoded:
            schema:
              $ref: '#/components/schemas/PasswordReset'
          multipart/form-data:
            schema:
              $ref: '#/components/schemas/PasswordReset'
        required: true
      security: []
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/RestAuthDetail'
          description: ''
  /api/v1/auth/password/reset/confirm/:
    post:
      operationId: auth_password_reset_confirm
      description: |-
        Password reset e-mail link is confirmed, therefore
        this resets the user's password.
        Accepts the following POST parameters: token, uid,
            new_password1, new_password2
        Returns the success/fail message.
      tags:
        - auth
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/PasswordResetConfirm'
          application/x-www-form-urlencoded:
            schema:
              $ref: '#/components/schemas/PasswordResetConfirm'
          multipart/form-data:
            schema:
              $ref: '#/components/schemas/PasswordResetConfirm'
        required: true
      security: []
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/RestAuthDetail'
          description: ''
  /api/v1/auth/user/:
    get:
      operationId: auth_user_retrieve
      description: |-
        Reads and updates UserModel fields
        Accepts GET, PUT, PATCH methods.
        Default accepted fields: username, first_name, last_name
        Default display fields: pk, username, email, first_name, last_name
        Read-only fields: pk, email
        Returns UserModel fields.
      tags:
        - auth
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/UserDetails'
          description: ''
    put:
      operationId: auth_user_update
      description: |-
        Reads and updates UserModel fields
        Accepts GET, PUT, PATCH methods.
        Default accepted fields: username, first_name, last_name
        Default display fields: pk, username, email, first_name, last_name
        Read-only fields: pk, email
        Returns UserModel fields.
      tags:
        - auth
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/UserDetails'
          application/x-www-form-urlencoded:
            schema:
              $ref: '#/components/schemas/UserDetails'
          multipart/form-data:
            schema:
              $ref: '#/components/schemas/UserDetails'
        required: true
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/UserDetails'
          description: ''
    patch:
      operationId: auth_user_partial_update
      description: |-
        Reads and updates UserModel fields
        Accepts GET, PUT, PATCH methods.
        Default accepted fields: username, first_name, last_name
        Default display fields: pk, username, email, first_name, last_name
        Read-only fields: pk, email
        Returns UserModel fields.
      tags:
        - auth
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/PatchedUserDetails'
          application/x-www-form-urlencoded:
            schema:
              $ref: '#/components/schemas/PatchedUserDetails'
          multipart/form-data:
            schema:
              $ref: '#/components/schemas/PatchedUserDetails'
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/UserDetails'
          description: ''
  # =========================================================================
  # Ping (Health Check)
  # =========================================================================
  /api/v1/ping/:
    get:
      operationId: ping
      description: Health check endpoint. Returns status ok.
      tags:
        - ping
      security: []
      responses:
        '200':
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - ok
          description: ''
  # =========================================================================
  # Project
  # =========================================================================
  /api/v1/project/:
    get:
      operationId: project_list
      description: ''
      parameters:
        - in: query
          name: id
          schema:
            type: integer
        - in: query
          name: name
          schema:
            type: string
        - in: query
          name: page
          required: false
          schema:
            type: integer
        - in: query
          name: page_size
          required: false
          schema:
            type: integer
      tags:
        - project
      responses:
        '200':
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/Project'
          description: ''
    post:
      operationId: project_create
      description: ''
      tags:
        - project
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/Project'
          application/x-www-form-urlencoded:
            schema:
              $ref: '#/components/schemas/Project'
          multipart/form-data:
            schema:
              $ref: '#/components/schemas/Project'
        required: true
      responses:
        '201':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Project'
          description: ''
  /api/v1/project/{id}/:
    get:
      operationId: project_retrieve
      description: ''
      parameters:
        - in: path
          name: id
          schema:
            type: integer
          description: A unique integer value identifying this project.
          required: true
      tags:
        - project
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Project'
          description: ''
    patch:
      operationId: project_update
      description: ''
      parameters:
        - in: path
          name: id
          schema:
            type: integer
          description: A unique integer value identifying this project.
          required: true
      tags:
        - project
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/PatchedProject'
          application/x-www-form-urlencoded:
            schema:
              $ref: '#/components/schemas/PatchedProject'
          multipart/form-data:
            schema:
              $ref: '#/components/schemas/PatchedProject'
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Project'
          description: ''
    delete:
      operationId: project_destroy
      description: ''
      parameters:
        - in: path
          name: id
          schema:
            type: integer
          description: A unique integer value identifying this project.
          required: true
      tags:
        - project
      responses:
        '204':
          description: No response body
  /api/v1/project/{id}/summary/:
    get:
      operationId: project_summary
      description: Get a summary of the project.
      parameters:
        - in: path
          name: id
          schema:
            type: integer
          required: true
      tags:
        - project
      responses:
        '200':
          description: Project summary.
          content:
            application/json:
              schema:
                type: object
                additionalProperties: {}
  # =========================================================================
  # Training Data
  # =========================================================================
  /api/v1/training-data/:
    get:
      operationId: training_data_list
      description: ''
      parameters:
        - in: query
          name: id
          schema:
            type: integer
        - name: page
          required: false
          in: query
          description: A page number within the paginated result set.
          schema:
            type: integer
        - name: page_size
          required: false
          in: query
          description: Number of results to return per page.
          schema:
            type: integer
        - in: query
          name: project
          schema:
            type: integer
      tags:
        - training_data
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/PaginatedTrainingDataList'
          description: ''
    post:
      operationId: training_data_create
      description: ''
      tags:
        - training_data
      requestBody:
        content:
          multipart/form-data:
            schema:
              $ref: '#/components/schemas/TrainingData'
        required: true
      responses:
        '201':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/TrainingData'
          description: ''
  /api/v1/training-data/{id}/:
    get:
      operationId: training_data_retrieve
      description: ''
      parameters:
        - in: path
          name: id
          schema:
            type: integer
          description: A unique integer value identifying this training data.
          required: true
      tags:
        - training_data
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/TrainingData'
          description: ''
    delete:
      operationId: training_data_destroy
      description: ''
      parameters:
        - in: path
          name: id
          schema:
            type: integer
          description: A unique integer value identifying this training data.
          required: true
      tags:
        - training_data
      responses:
        '204':
          description: No response body
  /api/v1/training-data/{id}/download/:
    get:
      operationId: training_data_download
      description: Download the training data file.
      parameters:
        - in: path
          name: id
          schema:
            type: integer
          description: A unique integer value identifying this training data.
          required: true
      tags:
        - training_data
      responses:
        '200':
          content:
            application/octet-stream:
              schema:
                type: string
                format: binary
          description: ''
  /api/v1/training-data/{id}/preview/:
    get:
      operationId: training_data_preview
      description: Returns a JSON preview of the first N rows of the training data.
      parameters:
        - in: path
          name: id
          schema:
            type: integer
          description: A unique integer value identifying this training data.
          required: true
        - in: query
          name: n_rows
          schema:
            type: integer
            default: 10
          description: Number of rows to preview.
      tags:
        - training_data
      responses:
        '200':
          content:
            application/json:
              schema:
                type: object
                properties:
                  columns:
                    type: array
                    items:
                      type: string
                  rows:
                    type: array
                    items:
                      type: object
                      additionalProperties: {}
                  total_rows:
                    type: integer
          description: ''
  # =========================================================================
  # Item Meta Data
  # =========================================================================
  /api/v1/item-meta-data/:
    get:
      operationId: item_meta_data_list
      description: ''
      parameters:
        - in: query
          name: id
          schema:
            type: integer
        - name: page
          required: false
          in: query
          description: A page number within the paginated result set.
          schema:
            type: integer
        - name: page_size
          required: false
          in: query
          description: Number of results to return per page.
          schema:
            type: integer
        - in: query
          name: project
          schema:
            type: integer
      tags:
        - item_meta_data
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/PaginatedItemMetaDataList'
          description: ''
    post:
      operationId: item_meta_data_create
      description: ''
      tags:
        - item_meta_data
      requestBody:
        content:
          multipart/form-data:
            schema:
              $ref: '#/components/schemas/ItemMetaData'
        required: true
      responses:
        '201':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ItemMetaData'
          description: ''
  /api/v1/item-meta-data/{id}/:
    get:
      operationId: item_meta_data_retrieve
      description: ''
      parameters:
        - in: path
          name: id
          schema:
            type: integer
          description: A unique integer value identifying this item meta data.
          required: true
      tags:
        - item_meta_data
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ItemMetaData'
          description: ''
    delete:
      operationId: item_meta_data_destroy
      description: ''
      parameters:
        - in: path
          name: id
          schema:
            type: integer
          description: A unique integer value identifying this item meta data.
          required: true
      tags:
        - item_meta_data
      responses:
        '204':
          description: No response body
  /api/v1/item-meta-data/{id}/download/:
    get:
      operationId: item_meta_data_download
      description: Download the item meta data file.
      parameters:
        - in: path
          name: id
          schema:
            type: integer
          description: A unique integer value identifying this item meta data.
          required: true
      tags:
        - item_meta_data
      responses:
        '200':
          content:
            application/octet-stream:
              schema:
                type: string
                format: binary
          description: ''
  # =========================================================================
  # Trained Model
  # =========================================================================
  /api/v1/trained-model/:
    get:
      operationId: trained_model_list
      description: ''
      parameters:
        - in: query
          name: data_loc
          schema:
            type: integer
        - in: query
          name: data_loc__project
          schema:
            type: integer
        - in: query
          name: id
          schema:
            type: integer
        - name: page
          required: false
          in: query
          description: A page number within the paginated result set.
          schema:
            type: integer
        - name: page_size
          required: false
          in: query
          description: Number of results to return per page.
          schema:
            type: integer
      tags:
        - trained_model
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/PaginatedTrainedModelList'
          description: ''
    post:
      operationId: trained_model_create
      description: ''
      tags:
        - trained_model
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/TrainedModel'
          application/x-www-form-urlencoded:
            schema:
              $ref: '#/components/schemas/TrainedModel'
          multipart/form-data:
            schema:
              $ref: '#/components/schemas/TrainedModel'
        required: true
      responses:
        '201':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/TrainedModel'
          description: ''
  /api/v1/trained-model/{id}/:
    get:
      operationId: trained_model_retrieve
      description: ''
      parameters:
        - in: path
          name: id
          schema:
            type: integer
          description: A unique integer value identifying this trained model.
          required: true
      tags:
        - trained_model
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/TrainedModel'
          description: ''
    delete:
      operationId: trained_model_destroy
      description: ''
      parameters:
        - in: path
          name: id
          schema:
            type: integer
          description: A unique integer value identifying this trained model.
          required: true
      tags:
        - trained_model
      responses:
        '204':
          description: No response body
  /api/v1/trained-model/{id}/download-file/:
    get:
      operationId: trained_model_download_file
      description: Download the trained model file.
      parameters:
        - in: path
          name: id
          schema:
            type: integer
          description: A unique integer value identifying this trained model.
          required: true
      tags:
        - trained_model
      responses:
        '200':
          content:
            application/octet-stream:
              schema:
                type: string
                format: binary
          description: ''
  /api/v1/trained-model/{id}/recommend/:
    post:
      operationId: trained_model_recommend
      description: Get recommendations for a specific user from this trained model.
      parameters:
        - in: path
          name: id
          schema:
            type: integer
          description: A unique integer value identifying this trained model.
          required: true
      tags:
        - trained_model
      requestBody:
        content:
          application/json:
            schema:
              type: object
              properties:
                user_id:
                  type: string
                n_items:
                  type: integer
              required:
                - user_id
                - n_items
        required: true
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/RawRecommendation'
          description: ''
  /api/v1/trained-model/{id}/sample-recommend/:
    post:
      operationId: trained_model_sample_recommend
      description: Get sample recommendations from this trained model.
      parameters:
        - in: path
          name: id
          schema:
            type: integer
          description: A unique integer value identifying this trained model.
          required: true
      tags:
        - trained_model
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/RawRecommendation'
          description: ''
  /api/v1/trained-model/{id}/recommend-profile/:
    post:
      operationId: trained_model_recommend_profile
      description: Get recommendations based on item profile (item-to-item).
      parameters:
        - in: path
          name: id
          schema:
            type: integer
          description: A unique integer value identifying this trained model.
          required: true
      tags:
        - trained_model
      requestBody:
        content:
          application/json:
            schema:
              type: object
              properties:
                item_ids:
                  type: array
                  items:
                    type: string
                n_items:
                  type: integer
              required:
                - item_ids
                - n_items
        required: true
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/RawRecommendation'
          description: ''
  /api/v1/trained-model/{id}/sample-recommendation-raw/:
    get:
      operationId: trained_model_sample_recommendation_raw_retrieve
      description: ''
      parameters:
        - in: path
          name: id
          schema:
            type: integer
          description: A unique integer value identifying this trained model.
          required: true
      tags:
        - trained_model
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/RawRecommendation'
          description: ''
  /api/v1/trained-model/{id}/sample-recommendation-metadata/{metadata_id}/:
    get:
      operationId: trained_model_sample_recommendation_metadata_retrieve
      description: ''
      parameters:
        - in: path
          name: id
          schema:
            type: integer
          description: A unique integer value identifying this trained model.
          required: true
        - in: path
          name: metadata_id
          schema:
            type: string
          required: true
      tags:
        - trained_model
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/RecommendationWithMetaData'
          description: ''
  # =========================================================================
  # Model Configuration
  # =========================================================================
  /api/v1/model-configuration/:
    get:
      operationId: model_configuration_list
      description: ''
      parameters:
        - in: query
          name: id
          schema:
            type: integer
        - name: page
          required: false
          in: query
          description: A page number within the paginated result set.
          schema:
            type: integer
        - name: page_size
          required: false
          in: query
          description: Number of results to return per page.
          schema:
            type: integer
        - in: query
          name: project
          schema:
            type: integer
      tags:
        - model_configuration
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/PaginatedModelConfigurationList'
          description: ''
    post:
      operationId: model_configuration_create
      description: ''
      tags:
        - model_configuration
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/ModelConfiguration'
          application/x-www-form-urlencoded:
            schema:
              $ref: '#/components/schemas/ModelConfiguration'
          multipart/form-data:
            schema:
              $ref: '#/components/schemas/ModelConfiguration'
        required: true
      responses:
        '201':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ModelConfiguration'
          description: ''
  /api/v1/model-configuration/{id}/:
    get:
      operationId: model_configuration_retrieve
      description: ''
      parameters:
        - in: path
          name: id
          schema:
            type: integer
          description: A unique integer value identifying this model configuration.
          required: true
      tags:
        - model_configuration
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ModelConfiguration'
          description: ''
    patch:
      operationId: model_configuration_update
      description: ''
      parameters:
        - in: path
          name: id
          schema:
            type: integer
          description: A unique integer value identifying this model configuration.
          required: true
      tags:
        - model_configuration
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/PatchedModelConfiguration'
          application/x-www-form-urlencoded:
            schema:
              $ref: '#/components/schemas/PatchedModelConfiguration'
          multipart/form-data:
            schema:
              $ref: '#/components/schemas/PatchedModelConfiguration'
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ModelConfiguration'
          description: ''
    delete:
      operationId: model_configuration_destroy
      description: ''
      parameters:
        - in: path
          name: id
          schema:
            type: integer
          description: A unique integer value identifying this model configuration.
          required: true
      tags:
        - model_configuration
      responses:
        '204':
          description: No response body
  # =========================================================================
  # Evaluation Config
  # =========================================================================
  /api/v1/evaluation-config/:
    get:
      operationId: evaluation_config_list
      description: ''
      parameters:
        - in: query
          name: id
          schema:
            type: integer
        - in: query
          name: name
          schema:
            type: string
        - in: query
          name: unnamed
          schema:
            type: boolean
        - in: query
          name: page
          required: false
          schema:
            type: integer
        - in: query
          name: page_size
          required: false
          schema:
            type: integer
      tags:
        - evaluation_config
      responses:
        '200':
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/EvaluationConfig'
          description: ''
    post:
      operationId: evaluation_config_create
      description: ''
      tags:
        - evaluation_config
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/EvaluationConfig'
          application/x-www-form-urlencoded:
            schema:
              $ref: '#/components/schemas/EvaluationConfig'
          multipart/form-data:
            schema:
              $ref: '#/components/schemas/EvaluationConfig'
      responses:
        '201':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/EvaluationConfig'
          description: ''
  /api/v1/evaluation-config/{id}/:
    get:
      operationId: evaluation_config_retrieve
      description: ''
      parameters:
        - in: path
          name: id
          schema:
            type: integer
          description: A unique integer value identifying this evaluation config.
          required: true
      tags:
        - evaluation_config
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/EvaluationConfig'
          description: ''
    patch:
      operationId: evaluation_config_update
      description: ''
      parameters:
        - in: path
          name: id
          schema:
            type: integer
          description: A unique integer value identifying this evaluation config.
          required: true
      tags:
        - evaluation_config
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/PatchedEvaluationConfig'
          application/x-www-form-urlencoded:
            schema:
              $ref: '#/components/schemas/PatchedEvaluationConfig'
          multipart/form-data:
            schema:
              $ref: '#/components/schemas/PatchedEvaluationConfig'
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/EvaluationConfig'
          description: ''
    delete:
      operationId: evaluation_config_destroy
      description: ''
      parameters:
        - in: path
          name: id
          schema:
            type: integer
          description: A unique integer value identifying this evaluation config.
          required: true
      tags:
        - evaluation_config
      responses:
        '204':
          description: No response body
  # =========================================================================
  # Split Config
  # =========================================================================
  /api/v1/split-config/:
    get:
      operationId: split_config_list
      description: ''
      parameters:
        - in: query
          name: id
          schema:
            type: integer
        - in: query
          name: name
          schema:
            type: string
        - in: query
          name: unnamed
          schema:
            type: boolean
        - in: query
          name: page
          required: false
          schema:
            type: integer
        - in: query
          name: page_size
          required: false
          schema:
            type: integer
      tags:
        - split_config
      responses:
        '200':
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/SplitConfig'
          description: ''
    post:
      operationId: split_config_create
      description: ''
      tags:
        - split_config
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/SplitConfig'
          application/x-www-form-urlencoded:
            schema:
              $ref: '#/components/schemas/SplitConfig'
          multipart/form-data:
            schema:
              $ref: '#/components/schemas/SplitConfig'
      responses:
        '201':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/SplitConfig'
          description: ''
  /api/v1/split-config/{id}/:
    get:
      operationId: split_config_retrieve
      description: ''
      parameters:
        - in: path
          name: id
          schema:
            type: integer
          description: A unique integer value identifying this split config.
          required: true
      tags:
        - split_config
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/SplitConfig'
          description: ''
    patch:
      operationId: split_config_update
      description: ''
      parameters:
        - in: path
          name: id
          schema:
            type: integer
          description: A unique integer value identifying this split config.
          required: true
      tags:
        - split_config
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/PatchedSplitConfig'
          application/x-www-form-urlencoded:
            schema:
              $ref: '#/components/schemas/PatchedSplitConfig'
          multipart/form-data:
            schema:
              $ref: '#/components/schemas/PatchedSplitConfig'
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/SplitConfig'
          description: ''
    delete:
      operationId: split_config_destroy
      description: ''
      parameters:
        - in: path
          name: id
          schema:
            type: integer
          description: A unique integer value identifying this split config.
          required: true
      tags:
        - split_config
      responses:
        '204':
          description: No response body
  # =========================================================================
  # Parameter Tuning Job
  # =========================================================================
  /api/v1/parameter-tuning-job/:
    get:
      operationId: parameter_tuning_job_list
      description: ''
      parameters:
        - in: query
          name: data
          schema:
            type: integer
        - in: query
          name: data__project
          schema:
            type: integer
        - in: query
          name: id
          schema:
            type: integer
        - name: page
          required: false
          in: query
          description: A page number within the paginated result set.
          schema:
            type: integer
        - name: page_size
          required: false
          in: query
          description: Number of results to return per page.
          schema:
            type: integer
      tags:
        - parameter_tuning_job
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/PaginatedParameterTuningJobList'
          description: ''
    post:
      operationId: parameter_tuning_job_create
      description: ''
      tags:
        - parameter_tuning_job
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/ParameterTuningJob'
          application/x-www-form-urlencoded:
            schema:
              $ref: '#/components/schemas/ParameterTuningJob'
          multipart/form-data:
            schema:
              $ref: '#/components/schemas/ParameterTuningJob'
        required: true
      responses:
        '201':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ParameterTuningJob'
          description: ''
  /api/v1/parameter-tuning-job/{id}/:
    get:
      operationId: parameter_tuning_job_retrieve
      description: ''
      parameters:
        - in: path
          name: id
          schema:
            type: integer
          description: A unique integer value identifying this parameter tuning job.
          required: true
      tags:
        - parameter_tuning_job
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ParameterTuningJob'
          description: ''
    delete:
      operationId: parameter_tuning_job_destroy
      description: ''
      parameters:
        - in: path
          name: id
          schema:
            type: integer
          description: A unique integer value identifying this parameter tuning job.
          required: true
      tags:
        - parameter_tuning_job
      responses:
        '204':
          description: No response body
  # =========================================================================
  # Task Log
  # =========================================================================
  /api/v1/task-log/:
    get:
      operationId: task_log_list
      description: ''
      parameters:
        - in: query
          name: id
          schema:
            type: integer
        - in: query
          name: id_gt
          schema:
            type: integer
        - in: query
          name: model_id
          schema:
            type: integer
        - in: query
          name: tuning_job_id
          schema:
            type: integer
        - in: query
          name: task
          schema:
            type: integer
        - in: query
          name: page
          required: false
          schema:
            type: integer
        - in: query
          name: page_size
          required: false
          schema:
            type: integer
      tags:
        - task_log
      responses:
        '200':
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/TaskLog'
          description: ''
  # =========================================================================
  # API Key
  # =========================================================================
  /api/v1/api-key/:
    get:
      operationId: api_key_list
      description: List API keys for the current user.
      parameters:
        - in: query
          name: id
          schema:
            type: integer
        - in: query
          name: page
          required: false
          schema:
            type: integer
        - in: query
          name: page_size
          required: false
          schema:
            type: integer
      tags:
        - api_key
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/PaginatedApiKeyList'
          description: ''
    post:
      operationId: api_key_create
      description: Create a new API key.
      tags:
        - api_key
      requestBody:
        content:
          application/json:
            schema:
              type: object
              properties:
                name:
                  type: string
                expires_at:
                  type: string
                  format: date-time
                  nullable: true
              required:
                - name
        required: true
      responses:
        '201':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ApiKey'
          description: ''
  /api/v1/api-key/{id}/:
    get:
      operationId: api_key_retrieve
      description: Retrieve an API key.
      parameters:
        - in: path
          name: id
          schema:
            type: integer
          required: true
      tags:
        - api_key
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ApiKey'
          description: ''
    delete:
      operationId: api_key_destroy
      description: Delete an API key.
      parameters:
        - in: path
          name: id
          schema:
            type: integer
          required: true
      tags:
        - api_key
      responses:
        '204':
          description: No response body
  /api/v1/api-key/{id}/revoke/:
    post:
      operationId: api_key_revoke
      description: Revoke an API key (deactivates it).
      parameters:
        - in: path
          name: id
          schema:
            type: integer
          required: true
      tags:
        - api_key
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ApiKey'
          description: ''
  # =========================================================================
  # Deployment Slot
  # =========================================================================
  /api/v1/deployment-slot/:
    get:
      operationId: deployment_slot_list
      description: List deployment slots.
      parameters:
        - in: query
          name: id
          schema:
            type: integer
        - in: query
          name: project
          schema:
            type: integer
        - in: query
          name: page
          required: false
          schema:
            type: integer
        - in: query
          name: page_size
          required: false
          schema:
            type: integer
      tags:
        - deployment_slot
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/PaginatedDeploymentSlotList'
          description: ''
    post:
      operationId: deployment_slot_create
      description: Create a deployment slot.
      tags:
        - deployment_slot
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/DeploymentSlot'
          application/x-www-form-urlencoded:
            schema:
              $ref: '#/components/schemas/DeploymentSlot'
        required: true
      responses:
        '201':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/DeploymentSlot'
          description: ''
  /api/v1/deployment-slot/{id}/:
    get:
      operationId: deployment_slot_retrieve
      description: Retrieve a deployment slot.
      parameters:
        - in: path
          name: id
          schema:
            type: integer
          required: true
      tags:
        - deployment_slot
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/DeploymentSlot'
          description: ''
    patch:
      operationId: deployment_slot_update
      description: Update a deployment slot.
      parameters:
        - in: path
          name: id
          schema:
            type: integer
          required: true
      tags:
        - deployment_slot
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/PatchedDeploymentSlot'
          application/x-www-form-urlencoded:
            schema:
              $ref: '#/components/schemas/PatchedDeploymentSlot'
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/DeploymentSlot'
          description: ''
    delete:
      operationId: deployment_slot_destroy
      description: Delete a deployment slot.
      parameters:
        - in: path
          name: id
          schema:
            type: integer
          required: true
      tags:
        - deployment_slot
      responses:
        '204':
          description: No response body
  # =========================================================================
  # AB Test
  # =========================================================================
  /api/v1/ab-test/:
    get:
      operationId: ab_test_list
      description: List AB tests.
      parameters:
        - in: query
          name: id
          schema:
            type: integer
        - in: query
          name: project
          schema:
            type: integer
        - in: query
          name: status
          schema:
            type: string
            enum:
              - draft
              - running
              - stopped
              - completed
        - in: query
          name: page
          required: false
          schema:
            type: integer
        - in: query
          name: page_size
          required: false
          schema:
            type: integer
      tags:
        - ab_test
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/PaginatedAbTestList'
          description: ''
    post:
      operationId: ab_test_create
      description: Create an AB test.
      tags:
        - ab_test
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/AbTest'
          application/x-www-form-urlencoded:
            schema:
              $ref: '#/components/schemas/AbTest'
        required: true
      responses:
        '201':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/AbTest'
          description: ''
  /api/v1/ab-test/{id}/:
    get:
      operationId: ab_test_retrieve
      description: Retrieve an AB test.
      parameters:
        - in: path
          name: id
          schema:
            type: integer
          required: true
      tags:
        - ab_test
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/AbTest'
          description: ''
    patch:
      operationId: ab_test_update
      description: Update an AB test.
      parameters:
        - in: path
          name: id
          schema:
            type: integer
          required: true
      tags:
        - ab_test
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/PatchedAbTest'
          application/x-www-form-urlencoded:
            schema:
              $ref: '#/components/schemas/PatchedAbTest'
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/AbTest'
          description: ''
    delete:
      operationId: ab_test_destroy
      description: Delete an AB test.
      parameters:
        - in: path
          name: id
          schema:
            type: integer
          required: true
      tags:
        - ab_test
      responses:
        '204':
          description: No response body
  /api/v1/ab-test/{id}/start/:
    post:
      operationId: ab_test_start
      description: Start an AB test.
      parameters:
        - in: path
          name: id
          schema:
            type: integer
          required: true
      tags:
        - ab_test
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/AbTest'
          description: ''
  /api/v1/ab-test/{id}/stop/:
    post:
      operationId: ab_test_stop
      description: Stop an AB test.
      parameters:
        - in: path
          name: id
          schema:
            type: integer
          required: true
      tags:
        - ab_test
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/AbTest'
          description: ''
  /api/v1/ab-test/{id}/results/:
    get:
      operationId: ab_test_results
      description: Get results for an AB test.
      parameters:
        - in: path
          name: id
          schema:
            type: integer
          required: true
      tags:
        - ab_test
      responses:
        '200':
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/AbTestResult'
          description: ''
  /api/v1/ab-test/{id}/promote-winner/:
    post:
      operationId: ab_test_promote_winner
      description: Promote the winning slot of an AB test.
      parameters:
        - in: path
          name: id
          schema:
            type: integer
          required: true
      tags:
        - ab_test
      requestBody:
        content:
          application/json:
            schema:
              type: object
              properties:
                slot_id:
                  type: integer
              required:
                - slot_id
        required: true
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/AbTest'
          description: ''
  # =========================================================================
  # Conversion Event
  # =========================================================================
  /api/v1/conversion-event/:
    get:
      operationId: conversion_event_list
      description: List conversion events.
      parameters:
        - in: query
          name: id
          schema:
            type: integer
        - in: query
          name: ab_test
          schema:
            type: integer
        - in: query
          name: slot
          schema:
            type: integer
        - in: query
          name: user_id
          schema:
            type: string
        - in: query
          name: page
          required: false
          schema:
            type: integer
        - in: query
          name: page_size
          required: false
          schema:
            type: integer
      tags:
        - conversion_event
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/PaginatedConversionEventList'
          description: ''
    post:
      operationId: conversion_event_create
      description: Create a conversion event.
      tags:
        - conversion_event
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/ConversionEventCreate'
        required: true
      responses:
        '201':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ConversionEvent'
          description: ''
  /api/v1/conversion-event/{id}/:
    get:
      operationId: conversion_event_retrieve
      description: Retrieve a conversion event.
      parameters:
        - in: path
          name: id
          schema:
            type: integer
          required: true
      tags:
        - conversion_event
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ConversionEvent'
          description: ''
  /api/v1/conversion-event/batch/:
    post:
      operationId: conversion_event_batch_create
      description: Create multiple conversion events in batch.
      tags:
        - conversion_event
      requestBody:
        content:
          application/json:
            schema:
              type: object
              properties:
                events:
                  type: array
                  items:
                    $ref: '#/components/schemas/ConversionEventCreate'
              required:
                - events
        required: true
      responses:
        '201':
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/ConversionEvent'
          description: ''
  # =========================================================================
  # Retraining Schedule
  # =========================================================================
  /api/v1/retraining-schedule/:
    get:
      operationId: retraining_schedule_list
      description: List retraining schedules.
      parameters:
        - in: query
          name: id
          schema:
            type: integer
        - in: query
          name: deployment_slot
          schema:
            type: integer
        - in: query
          name: page
          required: false
          schema:
            type: integer
        - in: query
          name: page_size
          required: false
          schema:
            type: integer
      tags:
        - retraining_schedule
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/PaginatedRetrainingScheduleList'
          description: ''
    post:
      operationId: retraining_schedule_create
      description: Create a retraining schedule.
      tags:
        - retraining_schedule
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/RetrainingSchedule'
          application/x-www-form-urlencoded:
            schema:
              $ref: '#/components/schemas/RetrainingSchedule'
        required: true
      responses:
        '201':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/RetrainingSchedule'
          description: ''
  /api/v1/retraining-schedule/{id}/:
    get:
      operationId: retraining_schedule_retrieve
      description: Retrieve a retraining schedule.
      parameters:
        - in: path
          name: id
          schema:
            type: integer
          required: true
      tags:
        - retraining_schedule
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/RetrainingSchedule'
          description: ''
    patch:
      operationId: retraining_schedule_update
      description: Update a retraining schedule.
      parameters:
        - in: path
          name: id
          schema:
            type: integer
          required: true
      tags:
        - retraining_schedule
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/PatchedRetrainingSchedule'
          application/x-www-form-urlencoded:
            schema:
              $ref: '#/components/schemas/PatchedRetrainingSchedule'
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/RetrainingSchedule'
          description: ''
    delete:
      operationId: retraining_schedule_destroy
      description: Delete a retraining schedule.
      parameters:
        - in: path
          name: id
          schema:
            type: integer
          required: true
      tags:
        - retraining_schedule
      responses:
        '204':
          description: No response body
  /api/v1/retraining-schedule/{id}/trigger/:
    post:
      operationId: retraining_schedule_trigger
      description: Manually trigger a retraining run for this schedule.
      parameters:
        - in: path
          name: id
          schema:
            type: integer
          required: true
      tags:
        - retraining_schedule
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/RetrainingRun'
          description: ''
  # =========================================================================
  # Retraining Run
  # =========================================================================
  /api/v1/retraining-run/:
    get:
      operationId: retraining_run_list
      description: List retraining runs.
      parameters:
        - in: query
          name: id
          schema:
            type: integer
        - in: query
          name: schedule
          schema:
            type: integer
        - in: query
          name: status
          schema:
            type: string
            enum:
              - pending
              - running
              - completed
              - failed
        - in: query
          name: page
          required: false
          schema:
            type: integer
        - in: query
          name: page_size
          required: false
          schema:
            type: integer
      tags:
        - retraining_run
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/PaginatedRetrainingRunList'
          description: ''
  /api/v1/retraining-run/{id}/:
    get:
      operationId: retraining_run_retrieve
      description: Retrieve a retraining run.
      parameters:
        - in: path
          name: id
          schema:
            type: integer
          required: true
      tags:
        - retraining_run
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/RetrainingRun'
          description: ''
  # =========================================================================
  # User
  # =========================================================================
  /api/v1/user/:
    get:
      operationId: user_list
      description: List users.
      parameters:
        - in: query
          name: id
          schema:
            type: integer
        - in: query
          name: page
          required: false
          schema:
            type: integer
        - in: query
          name: page_size
          required: false
          schema:
            type: integer
      tags:
        - user
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/PaginatedUserList'
          description: ''
    post:
      operationId: user_create
      description: Create a new user.
      tags:
        - user
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/UserCreate'
          application/x-www-form-urlencoded:
            schema:
              $ref: '#/components/schemas/UserCreate'
        required: true
      responses:
        '201':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/User'
          description: ''
  /api/v1/user/{id}/:
    get:
      operationId: user_retrieve
      description: Retrieve a user.
      parameters:
        - in: path
          name: id
          schema:
            type: integer
          required: true
      tags:
        - user
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/User'
          description: ''
    patch:
      operationId: user_update
      description: Update a user.
      parameters:
        - in: path
          name: id
          schema:
            type: integer
          required: true
      tags:
        - user
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/PatchedUser'
          application/x-www-form-urlencoded:
            schema:
              $ref: '#/components/schemas/PatchedUser'
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/User'
          description: ''
    delete:
      operationId: user_destroy
      description: Delete a user.
      parameters:
        - in: path
          name: id
          schema:
            type: integer
          required: true
      tags:
        - user
      responses:
        '204':
          description: No response body
  /api/v1/user/{id}/deactivate/:
    post:
      operationId: user_deactivate
      description: Deactivate a user account.
      parameters:
        - in: path
          name: id
          schema:
            type: integer
          required: true
      tags:
        - user
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/User'
          description: ''
  /api/v1/user/{id}/activate/:
    post:
      operationId: user_activate
      description: Activate a user account.
      parameters:
        - in: path
          name: id
          schema:
            type: integer
          required: true
      tags:
        - user
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/User'
          description: ''
  /api/v1/user/{id}/reset-password/:
    post:
      operationId: user_reset_password
      description: Reset a user's password.
      parameters:
        - in: path
          name: id
          schema:
            type: integer
          required: true
      tags:
        - user
      requestBody:
        content:
          application/json:
            schema:
              type: object
              properties:
                new_password:
                  type: string
              required:
                - new_password
        required: true
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/RestAuthDetail'
          description: ''
components:
  schemas:
    # =====================================================================
    # Existing schemas (preserved as-is)
    # =====================================================================
    AuthToken:
      type: object
      properties:
        username:
          type: string
          writeOnly: true
        password:
          type: string
          writeOnly: true
        token:
          type: string
          readOnly: true
      required:
        - password
        - token
        - username
    EvaluationConfig:
      type: object
      properties:
        id:
          type: integer
          readOnly: true
        ins_datetime:
          type: string
          format: date-time
          readOnly: true
        name:
          type: string
          nullable: true
          maxLength: 256
        cutoff:
          type: integer
          maximum: 2147483647
          minimum: -2147483648
        target_metric:
          $ref: '#/components/schemas/TargetMetricEnum'
      required:
        - id
        - ins_datetime
    IDAndScore:
      type: object
      properties:
        item_id:
          type: string
        score:
          type: number
          format: float
      required:
        - item_id
        - score
    ItemMetaData:
      type: object
      properties:
        id:
          type: integer
          readOnly: true
        project:
          type: integer
        file:
          type: string
          nullable: true
        valid_columns_list_json:
          type: string
          readOnly: true
        ins_datetime:
          type: string
          format: date-time
          readOnly: true
        basename:
          type: string
          nullable: true
          readOnly: true
        filesize:
          type: integer
          readOnly: true
      required:
        - basename
        - filesize
        - id
        - ins_datetime
        - project
        - valid_columns_list_json
    JWT:
      type: object
      description: Serializer for JWT authentication.
      properties:
        access_token:
          type: string
        refresh_token:
          type: string
        user:
          $ref: '#/components/schemas/UserDetails'
      required:
        - access_token
        - refresh_token
        - user
    Login:
      type: object
      properties:
        username:
          type: string
        email:
          type: string
          format: email
        password:
          type: string
      required:
        - password
    ModelConfiguration:
      type: object
      properties:
        id:
          type: integer
          readOnly: true
        tuning_job:
          type: integer
          readOnly: true
        name:
          type: string
          nullable: true
          maxLength: 256
        project:
          type: integer
        recommender_class_name:
          type: string
          maxLength: 128
        parameters_json:
          type: string
        ins_datetime:
          type: string
          format: date-time
          readOnly: true
      required:
        - id
        - ins_datetime
        - parameters_json
        - project
        - recommender_class_name
        - tuning_job
    ParameterTuningJob:
      type: object
      properties:
        id:
          type: integer
          readOnly: true
        data:
          type: integer
        split:
          type: integer
        evaluation:
          type: integer
        n_tasks_parallel:
          type: integer
          maximum: 2147483647
          minimum: -2147483648
        n_trials:
          type: integer
          maximum: 2147483647
          minimum: -2147483648
        memory_budget:
          type: integer
          maximum: 2147483647
          minimum: -2147483648
        timeout_overall:
          type: integer
          maximum: 2147483647
          minimum: -2147483648
          nullable: true
        timeout_singlestep:
          type: integer
          maximum: 2147483647
          minimum: -2147483648
          nullable: true
        random_seed:
          type: integer
          maximum: 2147483647
          minimum: -2147483648
          nullable: true
        tried_algorithms_json:
          type: string
          nullable: true
        irspack_version:
          type: string
          nullable: true
          maxLength: 16
        train_after_tuning:
          type: boolean
        best_score:
          type: number
          format: float
          nullable: true
        tuned_model:
          type: integer
          nullable: true
        best_config:
          type: integer
          nullable: true
        ins_datetime:
          type: string
          format: date-time
          readOnly: true
        task_links:
          type: array
          items:
            $ref: '#/components/schemas/TaskAndParameterJobLink'
          readOnly: true
        status:
          type: string
          enum:
            - pending
            - running
            - completed
            - failed
      required:
        - data
        - evaluation
        - id
        - ins_datetime
        - split
        - task_links
    PasswordChange:
      type: object
      properties:
        new_password1:
          type: string
          maxLength: 128
        new_password2:
          type: string
          maxLength: 128
      required:
        - new_password1
        - new_password2
    PasswordReset:
      type: object
      description: Serializer for requesting a password reset e-mail.
      properties:
        email:
          type: string
          format: email
      required:
        - email
    PasswordResetConfirm:
      type: object
      description: Serializer for confirming a password reset attempt.
      properties:
        new_password1:
          type: string
          maxLength: 128
        new_password2:
          type: string
          maxLength: 128
        uid:
          type: string
        token:
          type: string
      required:
        - new_password1
        - new_password2
        - token
        - uid
    PatchedEvaluationConfig:
      type: object
      properties:
        id:
          type: integer
          readOnly: true
        ins_datetime:
          type: string
          format: date-time
          readOnly: true
        name:
          type: string
          nullable: true
          maxLength: 256
        cutoff:
          type: integer
          maximum: 2147483647
          minimum: -2147483648
        target_metric:
          $ref: '#/components/schemas/TargetMetricEnum'
    PatchedItemMetaData:
      type: object
      properties:
        id:
          type: integer
          readOnly: true
        project:
          type: integer
        file:
          type: string
          nullable: true
        valid_columns_list_json:
          type: string
          readOnly: true
        ins_datetime:
          type: string
          format: date-time
          readOnly: true
        basename:
          type: string
          nullable: true
          readOnly: true
        filesize:
          type: integer
          readOnly: true
    PatchedModelConfiguration:
      type: object
      properties:
        id:
          type: integer
          readOnly: true
        tuning_job:
          type: integer
          readOnly: true
        name:
          type: string
          nullable: true
          maxLength: 256
        project:
          type: integer
        recommender_class_name:
          type: string
          maxLength: 128
        parameters_json:
          type: string
        ins_datetime:
          type: string
          format: date-time
          readOnly: true
    PatchedParameterTuningJob:
      type: object
      properties:
        id:
          type: integer
          readOnly: true
        data:
          type: integer
        split:
          type: integer
        evaluation:
          type: integer
        n_tasks_parallel:
          type: integer
          maximum: 2147483647
          minimum: -2147483648
        n_trials:
          type: integer
          maximum: 2147483647
          minimum: -2147483648
        memory_budget:
          type: integer
          maximum: 2147483647
          minimum: -2147483648
        timeout_overall:
          type: integer
          maximum: 2147483647
          minimum: -2147483648
          nullable: true
        timeout_singlestep:
          type: integer
          maximum: 2147483647
          minimum: -2147483648
          nullable: true
        random_seed:
          type: integer
          maximum: 2147483647
          minimum: -2147483648
          nullable: true
        tried_algorithms_json:
          type: string
          nullable: true
        irspack_version:
          type: string
          nullable: true
          maxLength: 16
        train_after_tuning:
          type: boolean
        best_score:
          type: number
          format: float
          nullable: true
        tuned_model:
          type: integer
          nullable: true
        best_config:
          type: integer
          nullable: true
        ins_datetime:
          type: string
          format: date-time
          readOnly: true
        task_links:
          type: array
          items:
            $ref: '#/components/schemas/TaskAndParameterJobLink'
          readOnly: true
        status:
          type: string
          enum:
            - pending
            - running
            - completed
            - failed
    PatchedProject:
      type: object
      properties:
        id:
          type: integer
          readOnly: true
        ins_datetime:
          type: string
          format: date-time
          readOnly: true
        name:
          type: string
        user_column:
          type: string
          maxLength: 256
        item_column:
          type: string
          maxLength: 256
        time_column:
          type: string
          nullable: true
          maxLength: 256
    PatchedSplitConfig:
      type: object
      properties:
        id:
          type: integer
          readOnly: true
        ins_datetime:
          type: string
          format: date-time
          readOnly: true
        name:
          type: string
          nullable: true
          maxLength: 256
        scheme:
          $ref: '#/components/schemas/SchemeEnum'
        heldout_ratio:
          type: number
          format: float
        n_heldout:
          type: integer
          maximum: 2147483647
          minimum: -2147483648
          nullable: true
        test_user_ratio:
          type: number
          format: float
        n_test_users:
          type: integer
          maximum: 2147483647
          minimum: -2147483648
          nullable: true
        random_seed:
          type: integer
          maximum: 2147483647
          minimum: -2147483648
    PatchedTrainedModel:
      type: object
      properties:
        id:
          type: integer
          readOnly: true
        configuration:
          type: integer
        data_loc:
          type: integer
        file:
          type: string
          nullable: true
        irspack_version:
          type: string
          nullable: true
          maxLength: 16
        ins_datetime:
          type: string
          format: date-time
          readOnly: true
        basename:
          type: string
          nullable: true
          readOnly: true
        filesize:
          type: integer
          readOnly: true
        task_links:
          type: array
          items:
            $ref: '#/components/schemas/TaskAndTrainedModelLink'
          readOnly: true
    PatchedTrainingData:
      type: object
      properties:
        id:
          type: integer
          readOnly: true
        project:
          type: integer
        file:
          type: string
          nullable: true
        ins_datetime:
          type: string
          format: date-time
          readOnly: true
        basename:
          type: string
          nullable: true
          readOnly: true
        filesize:
          type: integer
          readOnly: true
    PatchedUserDetails:
      type: object
      description: User model w/o password
      properties:
        pk:
          type: integer
          readOnly: true
          title: ID
        username:
          type: string
          description: Required. 150 characters or fewer. Letters, digits and @/./+/-/_
            only.
          pattern: ^[\w.@+-]+$
          maxLength: 150
        email:
          type: string
          format: email
          readOnly: true
          title: Email address
        first_name:
          type: string
          maxLength: 150
        last_name:
          type: string
          maxLength: 150
    Project:
      type: object
      properties:
        id:
          type: integer
          readOnly: true
        ins_datetime:
          type: string
          format: date-time
          readOnly: true
        name:
          type: string
        user_column:
          type: string
          maxLength: 256
        item_column:
          type: string
          maxLength: 256
        time_column:
          type: string
          nullable: true
          maxLength: 256
      required:
        - id
        - ins_datetime
        - item_column
        - name
        - user_column
    RawRecommendation:
      type: object
      properties:
        user_id:
          type: string
        user_profile:
          type: array
          items:
            type: string
        recommendations:
          type: array
          items:
            $ref: '#/components/schemas/IDAndScore'
      required:
        - recommendations
        - user_id
        - user_profile
    RecommendationWithMetaData:
      type: object
      properties:
        user_id:
          type: string
        user_profile:
          type: string
        recommendations:
          type: string
      required:
        - recommendations
        - user_id
        - user_profile
    RestAuthDetail:
      type: object
      properties:
        detail:
          type: string
          readOnly: true
      required:
        - detail
    SchemeEnum:
      enum:
        - RG
        - TG
        - TU
      type: string
    SplitConfig:
      type: object
      properties:
        id:
          type: integer
          readOnly: true
        ins_datetime:
          type: string
          format: date-time
          readOnly: true
        name:
          type: string
          nullable: true
          maxLength: 256
        scheme:
          $ref: '#/components/schemas/SchemeEnum'
        heldout_ratio:
          type: number
          format: float
        n_heldout:
          type: integer
          maximum: 2147483647
          minimum: -2147483648
          nullable: true
        test_user_ratio:
          type: number
          format: float
        n_test_users:
          type: integer
          maximum: 2147483647
          minimum: -2147483648
          nullable: true
        random_seed:
          type: integer
          maximum: 2147483647
          minimum: -2147483648
      required:
        - id
        - ins_datetime
    StatusEnum:
      enum:
        - FAILURE
        - PENDING
        - RECEIVED
        - RETRY
        - REVOKED
        - STARTED
        - SUCCESS
      type: string
    TargetMetricEnum:
      enum:
        - ndcg
        - map
        - recall
        - hit
      type: string
    TaskAndParameterJobLink:
      type: object
      properties:
        task:
          $ref: '#/components/schemas/TaskResult'
      required:
        - task
    TaskAndTrainedModelLink:
      type: object
      properties:
        task:
          $ref: '#/components/schemas/TaskResult'
      required:
        - task
    TaskLog:
      type: object
      properties:
        id:
          type: integer
          readOnly: true
        ins_datetime:
          type: string
          format: date-time
          readOnly: true
        contents:
          type: string
        task:
          type: integer
      required:
        - id
        - ins_datetime
        - task
    TaskResult:
      type: object
      properties:
        task_id:
          type: string
          description: Celery ID for the Task that was run
          maxLength: 255
        status:
          allOf:
            - $ref: '#/components/schemas/StatusEnum'
          title: Task State
          description: Current state of the task being run
        date_created:
          type: string
          format: date-time
          readOnly: true
          title: Created DateTime
          description: Datetime field when the task result was created in UTC
        date_done:
          type: string
          format: date-time
          readOnly: true
          title: Completed DateTime
          description: Datetime field when the task was completed in UTC
        traceback:
          type: string
          nullable: true
          description: Text of the traceback if the task generated one
      required:
        - date_created
        - date_done
        - task_id
    TokenRefresh:
      type: object
      properties:
        access:
          type: string
          readOnly: true
        refresh:
          type: string
          writeOnly: true
      required:
        - access
        - refresh
    TokenVerify:
      type: object
      properties:
        token:
          type: string
      required:
        - token
    TrainedModel:
      type: object
      properties:
        id:
          type: integer
          readOnly: true
        configuration:
          type: integer
        data_loc:
          type: integer
        file:
          type: string
          nullable: true
        irspack_version:
          type: string
          nullable: true
          maxLength: 16
        ins_datetime:
          type: string
          format: date-time
          readOnly: true
        basename:
          type: string
          nullable: true
          readOnly: true
        filesize:
          type: integer
          readOnly: true
        task_links:
          type: array
          items:
            $ref: '#/components/schemas/TaskAndTrainedModelLink'
          readOnly: true
      required:
        - basename
        - configuration
        - data_loc
        - filesize
        - id
        - ins_datetime
        - task_links
    TrainingData:
      type: object
      properties:
        id:
          type: integer
          readOnly: true
        project:
          type: integer
        file:
          type: string
          nullable: true
        ins_datetime:
          type: string
          format: date-time
          readOnly: true
        basename:
          type: string
          nullable: true
          readOnly: true
        filesize:
          type: integer
          readOnly: true
      required:
        - basename
        - filesize
        - id
        - ins_datetime
        - project
    UserDetails:
      type: object
      description: User model w/o password
      properties:
        pk:
          type: integer
          readOnly: true
          title: ID
        username:
          type: string
          description: Required. 150 characters or fewer. Letters, digits and @/./+/-/_
            only.
          pattern: ^[\w.@+-]+$
          maxLength: 150
        email:
          type: string
          format: email
          readOnly: true
          title: Email address
        first_name:
          type: string
          maxLength: 150
        last_name:
          type: string
          maxLength: 150
      required:
        - email
        - pk
        - username
    # =====================================================================
    # Existing paginated schemas (preserved)
    # =====================================================================
    PaginatedItemMetaDataList:
      type: object
      properties:
        count:
          type: integer
        next:
          type: string
          nullable: true
          format: uri
        previous:
          type: string
          nullable: true
          format: uri
        results:
          type: array
          items:
            $ref: '#/components/schemas/ItemMetaData'
    PaginatedModelConfigurationList:
      type: object
      properties:
        count:
          type: integer
        next:
          type: string
          nullable: true
          format: uri
        previous:
          type: string
          nullable: true
          format: uri
        results:
          type: array
          items:
            $ref: '#/components/schemas/ModelConfiguration'
    PaginatedParameterTuningJobList:
      type: object
      properties:
        count:
          type: integer
        next:
          type: string
          nullable: true
          format: uri
        previous:
          type: string
          nullable: true
          format: uri
        results:
          type: array
          items:
            $ref: '#/components/schemas/ParameterTuningJob'
    PaginatedTrainedModelList:
      type: object
      properties:
        count:
          type: integer
        next:
          type: string
          nullable: true
          format: uri
        previous:
          type: string
          nullable: true
          format: uri
        results:
          type: array
          items:
            $ref: '#/components/schemas/TrainedModel'
    PaginatedTrainingDataList:
      type: object
      properties:
        count:
          type: integer
        next:
          type: string
          nullable: true
          format: uri
        previous:
          type: string
          nullable: true
          format: uri
        results:
          type: array
          items:
            $ref: '#/components/schemas/TrainingData'
    # =====================================================================
    # New schemas
    # =====================================================================
    ApiKey:
      type: object
      properties:
        id:
          type: integer
          readOnly: true
        name:
          type: string
        key:
          type: string
          readOnly: true
          description: Only returned on create.
        prefix:
          type: string
          readOnly: true
        created_at:
          type: string
          format: date-time
          readOnly: true
        expires_at:
          type: string
          format: date-time
          nullable: true
        is_active:
          type: boolean
      required:
        - id
        - name
        - prefix
        - created_at
        - is_active
    DeploymentSlot:
      type: object
      properties:
        id:
          type: integer
          readOnly: true
        name:
          type: string
        project:
          type: integer
        trained_model:
          type: integer
          nullable: true
        description:
          type: string
          nullable: true
        is_active:
          type: boolean
        created_at:
          type: string
          format: date-time
          readOnly: true
        updated_at:
          type: string
          format: date-time
          readOnly: true
      required:
        - id
        - name
        - project
        - is_active
        - created_at
        - updated_at
    PatchedDeploymentSlot:
      type: object
      properties:
        id:
          type: integer
          readOnly: true
        name:
          type: string
        project:
          type: integer
        trained_model:
          type: integer
          nullable: true
        description:
          type: string
          nullable: true
        is_active:
          type: boolean
        created_at:
          type: string
          format: date-time
          readOnly: true
        updated_at:
          type: string
          format: date-time
          readOnly: true
    AbTest:
      type: object
      properties:
        id:
          type: integer
          readOnly: true
        name:
          type: string
        project:
          type: integer
        slots:
          type: array
          items:
            type: integer
        status:
          type: string
          enum:
            - draft
            - running
            - stopped
            - completed
        start_time:
          type: string
          format: date-time
          nullable: true
        end_time:
          type: string
          format: date-time
          nullable: true
        created_at:
          type: string
          format: date-time
          readOnly: true
      required:
        - id
        - name
        - project
        - slots
        - status
        - created_at
    PatchedAbTest:
      type: object
      properties:
        id:
          type: integer
          readOnly: true
        name:
          type: string
        project:
          type: integer
        slots:
          type: array
          items:
            type: integer
        status:
          type: string
          enum:
            - draft
            - running
            - stopped
            - completed
        start_time:
          type: string
          format: date-time
          nullable: true
        end_time:
          type: string
          format: date-time
          nullable: true
        created_at:
          type: string
          format: date-time
          readOnly: true
    AbTestResult:
      type: object
      properties:
        slot_id:
          type: integer
        slot_name:
          type: string
        impressions:
          type: integer
        conversions:
          type: integer
        conversion_rate:
          type: number
          format: float
        confidence:
          type: number
          format: float
      required:
        - slot_id
        - slot_name
        - impressions
        - conversions
        - conversion_rate
        - confidence
    ConversionEvent:
      type: object
      properties:
        id:
          type: integer
          readOnly: true
        ab_test:
          type: integer
        slot:
          type: integer
        user_id:
          type: string
        item_id:
          type: string
          nullable: true
        event_type:
          type: string
        created_at:
          type: string
          format: date-time
          readOnly: true
      required:
        - id
        - ab_test
        - slot
        - user_id
        - event_type
        - created_at
    ConversionEventCreate:
      type: object
      properties:
        ab_test:
          type: integer
        slot:
          type: integer
        user_id:
          type: string
        item_id:
          type: string
          nullable: true
        event_type:
          type: string
      required:
        - ab_test
        - slot
        - user_id
        - event_type
    RetrainingSchedule:
      type: object
      properties:
        id:
          type: integer
          readOnly: true
        deployment_slot:
          type: integer
        cron_expression:
          type: string
        is_active:
          type: boolean
        last_run_at:
          type: string
          format: date-time
          nullable: true
          readOnly: true
        next_run_at:
          type: string
          format: date-time
          nullable: true
          readOnly: true
        created_at:
          type: string
          format: date-time
          readOnly: true
      required:
        - id
        - deployment_slot
        - cron_expression
        - is_active
        - created_at
    PatchedRetrainingSchedule:
      type: object
      properties:
        id:
          type: integer
          readOnly: true
        deployment_slot:
          type: integer
        cron_expression:
          type: string
        is_active:
          type: boolean
        last_run_at:
          type: string
          format: date-time
          nullable: true
          readOnly: true
        next_run_at:
          type: string
          format: date-time
          nullable: true
          readOnly: true
        created_at:
          type: string
          format: date-time
          readOnly: true
    RetrainingRun:
      type: object
      properties:
        id:
          type: integer
          readOnly: true
        schedule:
          type: integer
        status:
          type: string
          enum:
            - pending
            - running
            - completed
            - failed
        started_at:
          type: string
          format: date-time
          nullable: true
        completed_at:
          type: string
          format: date-time
          nullable: true
        trained_model:
          type: integer
          nullable: true
        error_message:
          type: string
          nullable: true
        created_at:
          type: string
          format: date-time
          readOnly: true
      required:
        - id
        - schedule
        - status
        - created_at
    User:
      type: object
      properties:
        id:
          type: integer
          readOnly: true
        username:
          type: string
        email:
          type: string
          format: email
        first_name:
          type: string
          nullable: true
        last_name:
          type: string
          nullable: true
        is_active:
          type: boolean
        is_staff:
          type: boolean
        date_joined:
          type: string
          format: date-time
          readOnly: true
        last_login:
          type: string
          format: date-time
          nullable: true
          readOnly: true
      required:
        - id
        - username
        - email
        - is_active
        - is_staff
        - date_joined
    UserCreate:
      type: object
      properties:
        username:
          type: string
        email:
          type: string
          format: email
        password:
          type: string
          writeOnly: true
        first_name:
          type: string
          nullable: true
        last_name:
          type: string
          nullable: true
        is_staff:
          type: boolean
      required:
        - username
        - email
        - password
    PatchedUser:
      type: object
      properties:
        username:
          type: string
        email:
          type: string
          format: email
        first_name:
          type: string
          nullable: true
        last_name:
          type: string
          nullable: true
        is_active:
          type: boolean
        is_staff:
          type: boolean
    # =====================================================================
    # New paginated schemas
    # =====================================================================
    PaginatedApiKeyList:
      type: object
      properties:
        count:
          type: integer
        next:
          type: string
          nullable: true
          format: uri
        previous:
          type: string
          nullable: true
          format: uri
        results:
          type: array
          items:
            $ref: '#/components/schemas/ApiKey'
    PaginatedDeploymentSlotList:
      type: object
      properties:
        count:
          type: integer
        next:
          type: string
          nullable: true
          format: uri
        previous:
          type: string
          nullable: true
          format: uri
        results:
          type: array
          items:
            $ref: '#/components/schemas/DeploymentSlot'
    PaginatedAbTestList:
      type: object
      properties:
        count:
          type: integer
        next:
          type: string
          nullable: true
          format: uri
        previous:
          type: string
          nullable: true
          format: uri
        results:
          type: array
          items:
            $ref: '#/components/schemas/AbTest'
    PaginatedConversionEventList:
      type: object
      properties:
        count:
          type: integer
        next:
          type: string
          nullable: true
          format: uri
        previous:
          type: string
          nullable: true
          format: uri
        results:
          type: array
          items:
            $ref: '#/components/schemas/ConversionEvent'
    PaginatedRetrainingScheduleList:
      type: object
      properties:
        count:
          type: integer
        next:
          type: string
          nullable: true
          format: uri
        previous:
          type: string
          nullable: true
          format: uri
        results:
          type: array
          items:
            $ref: '#/components/schemas/RetrainingSchedule'
    PaginatedRetrainingRunList:
      type: object
      properties:
        count:
          type: integer
        next:
          type: string
          nullable: true
          format: uri
        previous:
          type: string
          nullable: true
          format: uri
        results:
          type: array
          items:
            $ref: '#/components/schemas/RetrainingRun'
    PaginatedUserList:
      type: object
      properties:
        count:
          type: integer
        next:
          type: string
          nullable: true
          format: uri
        previous:
          type: string
          nullable: true
          format: uri
        results:
          type: array
          items:
            $ref: '#/components/schemas/User'
  securitySchemes:
    bearerAuth:
      type: http
      scheme: bearer
      bearerFormat: JWT
    apiKeyAuth:
      type: apiKey
      in: header
      name: X-API-Key
